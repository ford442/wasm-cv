<!DOCTYPE html>

<html>

<head>
	<title>wasm-cv env</title>

	<link rel="stylesheet" type="text/css" href="styles.css">
</head>

<body>

	<div id="output">
	<!-- Here's the output canvas, which is coincidentally where output is displayed-->
	<canvas id="output-canvas"></canvas>

	</div>

	<div id="input">
	<!-- Here's our video element, used to grab input from the webcam -->
	<video id="video" preload="auto" src="../week3/intro.mp4" loop playsinline autoplay></video>

	<!-- Here's the output overlay canvas, used for displaying visualizations of CV data -->
	<canvas id="output-overlay-canvas"></canvas>
	</div>

	<br>

	<!-- UI buttons and such -->
	<button id="start" class="ui-button" onclick="start()">Start</button>
	<button id="stop" class="ui-button" onclick="stop()">Stop</button>

	<br>

	<div>

		<div class="panel">

			<p class="stack">processing</p>

			<p><input id="toGrayscale" type="checkbox" class="stack" name="grayscale">
			<label for="toGrayscale">toGrayscale()</label></p>

			<p><input id="threshold" type="checkbox" class="stack" name="threshold">
			<label for="threshold">otsu()</label></p>

			<p><input id="findEdges" type="checkbox" class="stack" name="edges">
			<label for="findEdges">findEdges()</label></p>

		</div>

		<div class="panel">

			<p class="stack">analysis</p>

			<p><input id="findCorners" type="checkbox" class="stack" name="corners">
			<label for="findCorners">findAllCorners()</label></p>

			<p><input id="findSegments" type="checkbox" class="stack" name="segments">
			<label for="findSegments">getConnectedComponents()</label></p>

			<p><input disabled id="visualizeSegments" type="checkbox" class="stack-option" name="visualize-segments">
			<label for="visualizeSegments">visualize labeled regions</label></p>

			<p><input disabled id="findCentroids" type="checkbox" class="stack" name="centroids">
			<label for="findCentroids">getAllRegionCentroids(t=40)</label></p>

		</div>

		<div class="panel">

			<p class="stack">interpretation</p>

			<p><input id="findPerimeter" type="checkbox" class="stack" name="perimeter">
			<label for="findPerimeter">getRegionPerimeter()</label></p>

			<p><input disabled id="findBoundingBox" type="checkbox" class="stack" name="bounding">
			<label for="findBoundingBox">getBoundingBox()</label></p>

		</div>

	</div>

	<!-- Here's our input canvas, which is used as an intermediary between our video and our wasm functions-->
	<canvas id="input-canvas"></canvas>

	<!-- Include the wasm js glue code -->
	<script src="wasm-cv.js"></script>

	<!-- Include the js file that controls the behavior of this page -->
	<script src="env.js"></script>

</body>

</html>
